## 자바스크립트에서 모듈이란?

## 결론

자바스크립트에 모듈이란 공통적인 주제의 함수가 모인 하나의 파일이자, 다른 스크립트와의 스코프를 분리하기 위한 개념입니다.

## 설명

기존 자바스크립트는 `<script/>` 태그 내에서 코드를 선언했습니다.
그리고 그 스크립트의 스코프는 공유되었습니다.
따라서, `script` 태그의 변수들은 이름이 같으면 재정의가 될 수도 있고, 예상치 못한 동작을 할 수도 있었습니다.

그래서 스코프를 분리하기 위한 새로운 개념이 도입된것이 모듈입니다.

## 요약

모듈은 자바스크립트에서, 기존 `script`태그로 모든 스코프를 공유하던 문제를 해결하기 위해 나온 개념입니다.

## 번외) 자바스크립트의 모듈 시스템에 관해서 설명해주세요.

자바스크립트의 모듈 시스템 종류는 다음과 같습니다.

- Common JS
  CommonJS는 자바스크립트를 서버사이드에서도 사용가능할 수 있도록 하자는 철학하에 생겨났습니다.
  일반적으로 보던 require 예약어가 CommonJS 문법입니다.
  그래서 nodejs가 CommonJS를 채택하고 있습니다.

- AMD

CommonJS는 모든 파일이 로컬디스크에 있을때 필요한 자원을 필요한 시점에서 바로 불러올 수 있는 동기적인 상황을 전제로 만들어졌습니다.

하지만 클라이언트 사이드에서는 필요한 모듈이 다운로드될때까지는 아무것도 할 수 없는 상태가 되어서 치명적일 수 있습니다.
즉, 클라이언트 사이드(브라우저)는 비동기 환경입니다.

그래서 AMD는 비동기적인 특성을 좀더 강조하며 개발된 모듈 시스템입니다.

- UMD

CommonJS와 AMD의 사용으로 자바스크립트 사용자들이 2개의 그룹에 나뉨에따라, 라이브러리등의 서로 호환되지 않는 문제들이 발생했습니다.

UMD는 시스템이라기보다, CommonJS와 AMD 방식을 둘다 지원하기 위해 나온 새로운 패턴 같은 개념입니다.

- ESM

가장 최신의 모듈 표준 문법이다.
이전 모듈 시스템들의 장점들을 채택했고 CommonJS, AMD 모두 사용가능하다.
그리고 Tree-shaking이 가능하다.
UMD이 어떤 패턴이라면, ESM은 그 문법자체를 제공한다. (import, export 등)

## 참고

[내 레포](https://github.com/zereight/all-of-frontend-interview/blob/master/files/%EB%AA%A8%EB%93%88%EC%8B%9C%EC%8A%A4%ED%85%9C%20CJS%2C%20AMD%2C%20UMD%2C%20ESM.md)

## 번외) 왜 ESM만 tree-shaking이 되나요?

ESM은 스크립트들을 다운로드하여 파싱하고, 더이상 import할게 없어질때까지 찾아서 의존성 그래프를 그린다.

그리고 이 의존성 그래프가 tree-shaking을 가능하게한다.
